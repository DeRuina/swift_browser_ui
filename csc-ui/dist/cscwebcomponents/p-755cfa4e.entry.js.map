{"version":3,"names":["ClickOutsideOptionsDefaults","triggerEvents","exclude","registerClickOutside","component","element","callback","opt","excludedNodes","getExcludedNodes","getTriggerEvents","forEach","triggerEvent","window","addEventListener","e","initClickOutside","event","target","contains","isExcluded","call","split","map","trim","Array","from","document","querySelectorAll","err","console","warn","excudedNodes","excludedNode","cInputMenuCss","CSelect","this","_itemRefs","_cOptionElements","Map","_outerWrapperClasses","_validationClasses","_debounce","_observer","IntersectionObserver","entries","observer","entry","isIntersecting","scrollIntoView","block","inline","unobserve","threshold","_lastKeyPressTime","_searchString","_blurred","_optionItems","_getListItem","item","index","isActive","_a","_items","currentIndex","value","classes","none","disabled","itemId","replace","_id","a11y","role","toString","length","h","Object","assign","id","ref","el","push","class","name","onClick","_select","hasOptionItems","_handleSlotChange","_getOptionItems","validateChange","newValue","_runValidate","onCurrentIndexChange","activeListItemId","_c","_b","_scrollToElement","_updateStatusText","_firstSelectableIndex","findIndex","_lastSelectableIndex","reverse","items","_setValue","returnValue","_valueChangedHandler","optionAsSelection","selection","get","clone","cloneNode","_selectionElement","classList","add","replaceChildren","isItem","previousValue","changeValue","emit","_getLabel","includes","find","_d","itemsPerPage","itemRef","observe","handleKeyDown","ev","letterNumber","key","match","Date","now","selectedItem","i","toLowerCase","startsWith","menuVisible","preventDefault","_inputElement","focus","_selectItem","componentWillLoad","_uniqueId","hostId","_inputId","label","placeholder","componentDidLoad","disconnectedCallback","disconnect","_showMenu","setTimeout","_hideMenu","stopPropagation","requestAnimationFrame","host","cSelectItem","innerText","selected","slot","set","required","validateOnBlur","filter","c","_renderChevron","viewBox","d","mdiChevronDown","_renderInputElement","autocomplete","type","readonly","_renderMenu","style","shadow","title","clearTimeout","shadowRoot","querySelector","ending","isDisabled","beginning","selectionText","dataset","ariaPosInSet","ariaSetSize","statusText","render","itemsPerPageStyle","Host","autofocus","hideDetails","hint","valid","validate","validation","variant","onSlotchange"],"sources":["node_modules/stencil-click-outside/dist/esm/index.js","src/components/c-input/c-input-menu.scss?tag=c-select&encapsulation=shadow","src/components/c-select/c-select.tsx"],"sourcesContent":["import { Build as BUILD, getElement } from '@stencil/core';\nconst ClickOutsideOptionsDefaults = {\n    triggerEvents: \"click\",\n    exclude: \"\"\n};\n/**\n * Call this function as soon as the click outside of annotated method's host is done.\n * @example\n```\n@ClickOutside()\ncallback() {\n  // this will run when click outside of element (host component) is done.\n}\n```\n */\nexport function ClickOutside(opt = ClickOutsideOptionsDefaults) {\n    return (proto, methodName) => {\n        // this is to resolve the 'compiler optimization issue':\n        // lifecycle events not being called when not explicitly declared in at least one of components from bundle\n        BUILD.connectedCallback = true;\n        BUILD.disconnectedCallback = true;\n        const { connectedCallback, disconnectedCallback } = proto;\n        proto.connectedCallback = function () {\n            const host = getElement(this);\n            const method = this[methodName];\n            registerClickOutside(this, host, method, opt);\n            return connectedCallback && connectedCallback.call(this);\n        };\n        proto.disconnectedCallback = function () {\n            const host = getElement(this);\n            const method = this[methodName];\n            removeClickOutside(this, host, method, opt);\n            return disconnectedCallback && disconnectedCallback.call(this);\n        };\n    };\n}\n/**\n * Register callback function for HTMLElement to be executed when user clicks outside of element.\n * @example\n```\n<span\n    ref={spanEl => registerClickOutside(this, spanEl, () => this.test())}>\n      Hello, World!\n</span>;\n```\n */\nexport function registerClickOutside(component, element, callback, opt = ClickOutsideOptionsDefaults) {\n    const excludedNodes = getExcludedNodes(opt);\n    getTriggerEvents(opt).forEach(triggerEvent => {\n        window.addEventListener(triggerEvent, (e) => {\n            initClickOutside(e, component, element, callback, excludedNodes);\n        }, false);\n    });\n}\n/**\n * Remove click outside callback function for HTMLElement.\n */\nexport function removeClickOutside(component, element, callback, opt = ClickOutsideOptionsDefaults) {\n    getTriggerEvents(opt).forEach(triggerEvent => {\n        window.removeEventListener(triggerEvent, (e) => {\n            initClickOutside(e, component, element, callback);\n        }, false);\n    });\n}\nfunction initClickOutside(event, component, element, callback, excludedNodes) {\n    const target = event.target;\n    if (!element.contains(target) && !isExcluded(target, excludedNodes)) {\n        callback.call(component);\n    }\n}\nfunction getTriggerEvents(opt) {\n    if (opt.triggerEvents) {\n        return opt.triggerEvents.split(\",\").map(e => e.trim());\n    }\n    return [\"click\"];\n}\nfunction getExcludedNodes(opt) {\n    if (opt.exclude) {\n        try {\n            return Array.from(document.querySelectorAll(opt.exclude));\n        }\n        catch (err) {\n            console.warn(`@ClickOutside: Exclude: '${opt.exclude}' will not be evaluated. Check your exclude selector syntax.`, err);\n        }\n    }\n    return;\n}\nfunction isExcluded(target, excudedNodes) {\n    if (target && excudedNodes) {\n        for (let excludedNode of excudedNodes) {\n            if (excludedNode.contains(target)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n",":host {\n  display: block;\n  cursor: text;\n}\n\n.c-input-menu {\n  &__chevron {\n    fill: currentColor;\n    height: 22px;\n    width: 22px;\n    min-width: 22px;\n    transform: rotate(0deg);\n    transition: transform 0.3s ease-in-out;\n\n    &--active {\n      transform: rotate(180deg);\n    }\n  }\n\n  &__input {\n    width: 100%;\n    display: flex;\n    justify-items: stretch;\n  }\n\n  &__selection {\n    display: none;\n    pointer-events: none;\n\n    &--show {\n      align-items: center;\n      display: flex;\n      width: 100%;\n    }\n  }\n\n  &__item-wrapper {\n    position: absolute;\n    width: 100%;\n    top: 44px;\n    z-index: 10;\n    margin-left: calc(var(--c-label-position) * -1);\n\n    &--shadow {\n      top: 47px;\n    }\n  }\n\n  &__items {\n    position: absolute;\n    background-color: #ffffff;\n    min-width: calc(100% + 24px);\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n    z-index: 10;\n    user-select: none;\n    border-radius: 4px;\n    margin: 0 -12px;\n    overflow-y: scroll;\n    list-style: none;\n    padding: 0;\n\n    &--hidden {\n      display: none;\n    }\n\n    li {\n      cursor: pointer;\n      display: flex;\n      min-height: 48px;\n      padding: 0 12px;\n      transition: background-color 0.3s;\n      font-size: 14px;\n      align-items: center;\n      justify-content: flex-start;\n      color: rgba(0, 0, 0, 0.87);\n\n      &.disabled {\n        background-color: rgba(0, 0, 0, 0.05);\n        filter: grayscale(1) opacity(0.75);\n        cursor: default;\n\n        &:hover {\n          background-color: rgba(0, 0, 0, 0.05);\n        }\n      }\n\n      &.dense {\n        padding: 10px 14px;\n      }\n\n      &:hover {\n        background-color: var(--csc-primary-text-hover);\n      }\n\n      &[aria-selected='true'] {\n        background-color: var(--csc-primary-text-hover);\n      }\n\n      &.none {\n        color: rgba(0, 0, 0, 0.5);\n      }\n    }\n\n    &--empty {\n      li {\n        color: rgba(0, 0, 0, 0.54);\n        cursor: default;\n        gap: 8px;\n        pointer-events: none;\n\n        svg {\n          fill: currentColor;\n          height: 18px;\n          width: 18px;\n        }\n      }\n    }\n  }\n}\n\ninput {\n  max-height: 32px;\n  padding: 8px 0 8px;\n  background-color: transparent;\n  border: none;\n  color: rgba(0, 0, 0, 0.87);\n  flex: 1 1 auto;\n  font-family: $csc-font-family;\n  font-size: 16px;\n  line-height: 20px;\n  max-width: 100%;\n  min-width: 0;\n  width: 100%;\n  pointer-events: none;\n\n  &:focus,\n  &:active {\n    outline: none;\n  }\n\n  &::-ms-reveal {\n    display: none;\n  }\n}\n\nsvg {\n  fill: currentColor;\n  height: 22px;\n  width: 22px;\n}\n\n.c-input {\n  $this: &;\n\n  &--disabled {\n    color: var(--csc-mid-grey);\n  }\n\n  &:focus-within {\n    color: var(--csc-primary);\n  }\n\n  &--error {\n    color: var(--csc-error);\n\n    &:focus-within {\n      color: var(--csc-error);\n    }\n  }\n}\n\n.visuallyhidden {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n","import {\n  Component,\n  Element,\n  Host,\n  Prop,\n  State,\n  h,\n  Listen,\n  Event,\n  EventEmitter,\n  Watch,\n} from '@stencil/core';\nimport { mdiChevronDown } from '@mdi/js';\nimport { registerClickOutside } from 'stencil-click-outside';\nimport { CSelectItem } from '../../types';\n\n/**\n * @group Form\n * @slot Default slot - Use c-option elements only\n */\n@Component({\n  tag: 'c-select',\n  styleUrl: '../c-input/c-input-menu.scss',\n  shadow: true,\n})\nexport class CSelect {\n  /**\n   * Auto focus the input\n   */\n  @Prop() autofocus = false;\n\n  /**\n   * Disable the input\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Hide the hint and error messages\n   */\n  @Prop() hideDetails = false;\n\n  /**\n   * Hint text for the input\n   */\n  @Prop() hint = '';\n\n  /**\n   * Id of the element\n   */\n  @Prop({ attribute: 'id' }) hostId: string;\n\n  /**\n   * Element label\n   */\n  @Prop() label: string;\n\n  /**\n   * Shadow variant\n   */\n  @Prop() shadow = false;\n\n  /**\n   * Input field name\n   */\n  @Prop() name: string;\n\n  /**\n   * Set as required\n   */\n  @Prop() required = false;\n\n  /**\n   * Return only the item value rather than the whole item object\n   */\n  @Prop() returnValue: false;\n\n  /**\n   * Set the validity of the input\n   */\n  @Prop() valid = true;\n\n  /**\n   * Manual validation\n   */\n  @Prop() validate = false;\n\n  /**\n   * Validate the input on blur\n   */\n  @Prop() validateOnBlur = false;\n\n  /**\n   * Custom validation message\n   */\n  @Prop() validation = 'Required field';\n\n  /**\n   * Items per page before adding scroll\n   */\n  @Prop() itemsPerPage = 6;\n\n  /**\n   * Placeholder text\n   */\n  @Prop() placeholder = '';\n\n  /**\n   * Selected item\n   */\n  @Prop({ mutable: true }) value: string | number | boolean | CSelectItem =\n    null;\n\n  /**\n   * selectable items\n   */\n  @Prop() items: CSelectItem[] = [];\n\n  /**\n   * display the option as selection (works only when c-option elements are used)\n   */\n  @Prop() optionAsSelection: false;\n\n  /**\n   * Triggered when an item is selected\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter;\n\n  @Element() host: HTMLCSelectElement;\n\n  @State() menuVisible = false;\n\n  @State() currentIndex: number = null;\n\n  @State() activeListItemId: string = null;\n\n  @State() statusText = '';\n\n  @State() hasOptionItems = false;\n\n  @State() previousValue: CSelectItem = { value: '', name: '' };\n\n  private _itemRefs: { value: string | number | boolean; ref: HTMLElement }[] =\n    [];\n\n  private _id: string;\n\n  private _inputElement: HTMLInputElement;\n\n  private _cOptionElements: Map<string, HTMLCOptionElement> = new Map();\n\n  private _selectionElement: HTMLDivElement;\n\n  private _outerWrapperClasses = ['outer-wrapper'];\n\n  private static _uniqueId = 0;\n\n  private _validationClasses = ['validation-message'];\n\n  private _debounce = null;\n\n  private _observer = new IntersectionObserver(\n    (entries, observer) => {\n      entries.forEach((entry) => {\n        if (!entry.isIntersecting) {\n          entry.target.scrollIntoView({\n            block: 'nearest',\n            inline: 'nearest',\n          });\n          observer.unobserve(entry.target);\n        } else {\n          observer.unobserve(entry.target);\n        }\n      });\n    },\n    { threshold: 1 },\n  );\n\n  @Watch('validate')\n  validateChange(newValue: boolean) {\n    if (newValue) {\n      this._runValidate();\n    }\n  }\n\n  @Watch('currentIndex')\n  onCurrentIndexChange(index: number) {\n    this.activeListItemId = this._itemRefs[index]?.ref?.id ?? null;\n\n    this._scrollToElement();\n\n    this._updateStatusText();\n  }\n\n  private get _firstSelectableIndex() {\n    return this._items.findIndex((item) => !item.disabled);\n  }\n\n  private get _lastSelectableIndex() {\n    return [...this._items].reverse().findIndex((item) => !item.disabled);\n  }\n\n  private get _items() {\n    return this.hasOptionItems ? this._optionItems : this.items;\n  }\n\n  private _setValue(item: CSelectItem) {\n    return this.returnValue\n      ? item?.value\n      : {\n          name: item?.name,\n          value: item?.value,\n        };\n  }\n\n  private _valueChangedHandler(item: CSelectItem) {\n    if (this.hasOptionItems && this.optionAsSelection) {\n      const selection = this._cOptionElements.get(item.value.toString());\n\n      if (!selection) return;\n\n      const clone = selection.cloneNode(true);\n\n      this._selectionElement.classList.add('c-input-menu__selection--show');\n      this._selectionElement.replaceChildren(clone);\n    }\n\n    function isItem(element) {\n      return element.value === item?.value;\n    }\n\n    this.currentIndex = this._items.findIndex(isItem);\n\n    const value = this._setValue(item);\n\n    if (this.previousValue.value === item?.value) return;\n\n    this.previousValue = item;\n\n    this.changeValue.emit(value);\n  }\n\n  private _getLabel() {\n    if (!this.value) return '';\n\n    if (\n      this.returnValue &&\n      ['number', 'string', 'boolean'].includes(typeof this.value)\n    ) {\n      return this._items?.find((item) => item.value === this.value)?.name;\n    }\n\n    return this._items?.find(\n      (item) => item.value === (this.value as CSelectItem).value,\n    )?.name;\n  }\n\n  private _scrollToElement() {\n    if (this._items.length > this.itemsPerPage) {\n      const itemRef = this._itemRefs.find(\n        (item) => item.value === this._items[this.currentIndex].value,\n      )?.ref;\n\n      if (!!itemRef) {\n        this._observer.observe(itemRef);\n      }\n    }\n  }\n\n  @Listen('keydown', { capture: true })\n  handleKeyDown(ev: KeyboardEvent) {\n    if (this.disabled) return;\n\n    const letterNumber = /^[0-9a-zA-Z]+$/;\n\n    if (ev.key.match(letterNumber) && ev.key.length === 1) {\n      if (\n        Date.now() - this._lastKeyPressTime > 3000 ||\n        this._searchString.length > 2\n      ) {\n        this._searchString = ev.key;\n      } else {\n        this._searchString = `${this._searchString}${ev.key}`;\n      }\n\n      this._lastKeyPressTime = Date.now();\n\n      const selectedItem = this._items.find((i) =>\n        i.name.toLowerCase().startsWith(this._searchString),\n      );\n\n      function isItem(element) {\n        return element === selectedItem;\n      }\n\n      if (selectedItem) {\n        if (this.menuVisible) {\n          this.currentIndex = this._items.findIndex(isItem);\n          this._scrollToElement();\n        } else {\n          this.value = selectedItem;\n          this._valueChangedHandler(selectedItem);\n        }\n      }\n    }\n\n    if (ev.key === 'Home' && this.menuVisible) {\n      ev.preventDefault();\n\n      this.currentIndex = this._firstSelectableIndex;\n    }\n\n    if (ev.key === 'End' && this.menuVisible) {\n      ev.preventDefault();\n\n      this.currentIndex = this._lastSelectableIndex;\n    }\n\n    if (ev.key === 'Tab') {\n      this.menuVisible = false;\n    }\n\n    if (ev.key === 'ArrowDown') {\n      ev.preventDefault();\n\n      this.menuVisible = true;\n\n      if (this.currentIndex === null) {\n        this.currentIndex = 0;\n      } else if (this.currentIndex + 1 < this._items.length) {\n        this.currentIndex += 1;\n      }\n    }\n\n    if (ev.key === 'ArrowUp') {\n      ev.preventDefault();\n\n      this.menuVisible = true;\n\n      if (this.currentIndex > 0) {\n        this.currentIndex -= 1;\n      } else if (this.currentIndex === null) {\n        this.currentIndex = this._items.length - 1;\n      }\n    }\n\n    if (ev.key === ' ') {\n      ev.preventDefault();\n\n      if (!this.menuVisible) {\n        this.menuVisible = true;\n      }\n    }\n\n    if (ev.key === 'Escape') {\n      if (this.menuVisible) {\n        this.menuVisible = false;\n\n        this._inputElement.focus();\n      }\n    }\n\n    if (ev.key === 'Enter') {\n      this.menuVisible = !this.menuVisible;\n\n      if (this.currentIndex !== null) {\n        this._selectItem();\n      }\n\n      if (!this.menuVisible) {\n        this._inputElement.focus();\n      }\n    }\n  }\n\n  componentWillLoad() {\n    CSelect._uniqueId += 1;\n\n    this._id =\n      this.hostId?.replace(/[^a-zA-Z0-9-_]/g, '') ??\n      CSelect._uniqueId.toString();\n\n    this._inputId =\n      'input_' +\n      (this.hostId || this.label || this.placeholder).replace(\n        /[^a-zA-Z0-9-_]/g,\n        '',\n      );\n  }\n\n  componentDidLoad() {\n    this._getOptionItems();\n\n    if (\n      (this.value || typeof this.value === 'boolean') &&\n      !this.currentIndex &&\n      this.currentIndex !== 0\n    ) {\n      this.currentIndex = this._items.findIndex(\n        (item) => item.value === this.value,\n      );\n    }\n  }\n\n  disconnectedCallback() {\n    this._observer.disconnect();\n  }\n\n  private _inputId: string;\n\n  private _lastKeyPressTime = null;\n\n  private _searchString = '';\n\n  private _blurred = false;\n\n  private _optionItems: CSelectItem[] = [];\n\n  private _selectItem() {\n    const selectedItem = this._items[this.currentIndex];\n    this.value = selectedItem;\n    this._valueChangedHandler(selectedItem);\n    this._scrollToElement();\n  }\n\n  private _showMenu() {\n    if (this.disabled) return;\n\n    this._inputElement.focus();\n\n    // Hack needed to open the menu within a Vue web component\n    setTimeout(() => {\n      this.menuVisible = true;\n    }, 0);\n  }\n\n  private _hideMenu() {\n    this.menuVisible = false;\n    this._blurred = true;\n  }\n\n  private _select(event, item: CSelectItem) {\n    if (!!item.disabled) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.value = this._setValue(item);\n\n    this._valueChangedHandler(item);\n\n    this.menuVisible = false;\n  }\n\n  private _getOptionItems() {\n    requestAnimationFrame(() => {\n      this._cOptionElements = new Map();\n\n      let selection: CSelectItem | null = null;\n\n      this._optionItems = (\n        this.host ? Array.from(this.host.querySelectorAll('c-option')) : []\n      ).map((item, index) => {\n        const cSelectItem = {\n          value: item.value,\n          name: item.name || item.innerText,\n          disabled: !!item.disabled,\n        } as CSelectItem;\n\n        if (item.selected) {\n          selection = cSelectItem;\n        }\n\n        item.slot = `option-${index}`;\n\n        this._cOptionElements.set(item.value.toString(), item);\n\n        return cSelectItem;\n      });\n\n      this.hasOptionItems = !!this._optionItems.length;\n\n      if (selection) {\n        this._valueChangedHandler(selection);\n      }\n    });\n  }\n\n  private _getListItem = (item: CSelectItem, index: number) => {\n    const isActive = this._items[this.currentIndex]?.value === item.value;\n\n    const classes = {\n      none: item.value === null,\n      disabled: !!item.disabled,\n    };\n\n    let itemId = 'none';\n\n    if (typeof item?.value === 'string') {\n      itemId = item.value.replace(/[^a-zA-Z0-9-_]/g, '');\n    }\n\n    itemId = `item_${this._id}--${itemId}`;\n\n    const a11y = {\n      role: 'option',\n      'aria-posinset': (index + 1).toString(),\n      'aria-setsize': this._items.length.toString(),\n    };\n\n    if (isActive) {\n      a11y['aria-selected'] = 'true';\n    }\n\n    return (\n      <li\n        {...a11y}\n        id={itemId}\n        ref={(el) =>\n          this._itemRefs.push({ value: item.value, ref: el as HTMLElement })\n        }\n        class={classes}\n        data-value={item.name}\n        onClick={(event) => this._select(event, item)}\n      >\n        {this.hasOptionItems ? (\n          <slot name={`option-${index}`}></slot>\n        ) : (\n          item.name\n        )}\n      </li>\n    );\n  };\n\n  private _runValidate() {\n    if (\n      this.required &&\n      !this.value &&\n      (this._blurred || !this.validateOnBlur)\n    ) {\n      this._outerWrapperClasses.push('required');\n      this._validationClasses.push('show');\n    } else {\n      this._outerWrapperClasses = this._outerWrapperClasses.filter(\n        (c) => c !== 'required',\n      );\n      this._validationClasses = this._validationClasses.filter(\n        (c) => c !== 'show',\n      );\n    }\n  }\n\n  private _renderChevron() {\n    const classes = {\n      'c-input-menu__chevron': true,\n      'c-input-menu__chevron--active': this.menuVisible,\n    };\n\n    return (\n      <svg class={classes} viewBox=\"0 0 24 24\">\n        <path d={mdiChevronDown} />\n      </svg>\n    );\n  }\n\n  private _renderInputElement() {\n    return (\n      <div class=\"c-input-menu__input\" onClick={() => this._showMenu()}>\n        <input\n          aria-controls={'results_' + this._id}\n          aria-readonly=\"true\"\n          aria-haspopup=\"listbox\"\n          id={this._inputId}\n          ref={(el) => (this._inputElement = el)}\n          autocomplete=\"off\"\n          class=\"c-input__input\"\n          type=\"text\"\n          value={this._getLabel() ?? null}\n          name={this.name ?? null}\n          readonly=\"true\"\n        />\n\n        <div\n          ref={(el) => (this._selectionElement = el)}\n          class=\"c-input-menu__selection\"\n        />\n      </div>\n    );\n  }\n\n  private _renderMenu(style) {\n    return (\n      <div\n        class={{\n          'c-input-menu__item-wrapper': true,\n          'c-input-menu__item-wrapper--shadow': this.shadow,\n        }}\n      >\n        <ul\n          id={'results_' + this._id}\n          aria-activedescendant={this.activeListItemId}\n          aria-expanded={this.menuVisible.toString()}\n          style={style}\n          title={this.label || this.placeholder}\n          class={\n            this.menuVisible\n              ? 'c-input-menu__items'\n              : 'c-input-menu__items c-input-menu__items--hidden'\n          }\n          role=\"listbox\"\n        >\n          {this._items.map((item, index) => this._getListItem(item, index))}\n        </ul>\n      </div>\n    );\n  }\n\n  private _handleSlotChange = () => {\n    this._getOptionItems();\n  };\n\n  private _updateStatusText() {\n    if (this._debounce !== null) {\n      clearTimeout(this._debounce);\n      this._debounce = null;\n    }\n\n    this._debounce = window.setTimeout(() => {\n      const selection = this.host.shadowRoot.querySelector(\n        'li[aria-selected=\"true\"]',\n      ) as HTMLLIElement;\n\n      const ending = !!this._items.length\n        ? ', to navigate use up and down arrows'\n        : '';\n\n      const isDisabled = selection.classList.contains('disabled');\n\n      const beginning = isDisabled ? 'Disabled option - ' : '';\n\n      const selectionText = !!selection\n        ? `${beginning}${selection.dataset.value} -  ${selection.ariaPosInSet} of ${selection.ariaSetSize} is highlighted`\n        : null;\n\n      this.statusText = `${selectionText || ending}`;\n\n      this._debounce = null;\n    }, 1400);\n  }\n\n  render() {\n    let itemsPerPageStyle = {};\n\n    if (\n      this.itemsPerPage &&\n      this.itemsPerPage > 0 &&\n      this._items.length > this.itemsPerPage\n    ) {\n      itemsPerPageStyle = {\n        'max-height': 48 * this.itemsPerPage + 'px',\n        'overflow-y': 'scroll',\n      };\n    }\n\n    return (\n      <Host\n        ref={(el) => registerClickOutside(this, el, () => this._hideMenu())}\n      >\n        <div\n          id={'announce-' + this._id}\n          class=\"visuallyhidden\"\n          aria-live=\"polite\"\n          aria-atomic=\"true\"\n        >\n          {this.statusText}\n        </div>\n\n        <c-input\n          autofocus={this.autofocus}\n          disabled={this.disabled}\n          hide-details={this.hideDetails}\n          hint={this.hint}\n          id={this.hostId}\n          input-id={this._inputId}\n          label={this.label}\n          name={this.name}\n          placeholder={this.placeholder}\n          required={this.required}\n          shadow={this.shadow}\n          valid={this.valid}\n          validate={this.validate}\n          validate-on-blur={this.validateOnBlur}\n          validation={this.validation}\n          value={this.value}\n          variant=\"select\"\n        >\n          <slot name=\"pre\" slot=\"pre\"></slot>\n\n          <div class=\"c-input__content\">\n            {this._renderInputElement()}\n            {this._renderMenu(itemsPerPageStyle)}\n            {this._renderChevron()}\n\n            <slot onSlotchange={this._handleSlotChange}></slot>\n          </div>\n\n          <slot name=\"post\" slot=\"post\"></slot>\n        </c-input>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}
